<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      Edit <svg rel="icon" xmlns="http://www.w3.org/2000/svg" width="16"
      height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0
      16 16"> <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459
      3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939
      9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5
      0 0 0 .196-.12l6.813-6.814z" /> <path fill-rule="evenodd" d="M1 13.5A1.5
      1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0
      1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5
      1.5 0 0 0 1 2.5v11z" /> </svg>
    </title>

    <meta charset="utf-8" />
    <script src="js/code.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body
    class="bg-primary p-5"
    onload="populateFullScreenEdit(); titleButFunEdit()"
  >
    <div
      class="container h-75 d-flex align-items-center justify-content-center my-autopt-5"
    >
      <div class="row my-auto">
        <div class="row container d-flex justify-content-center">
          <div class="col-- stretch-card">
            <div
              class="card card-xlg bg-dark table-responsive-sm p rounded-5 shadow-lg my-auto"
            >
              <div class="card-body bg-dark rounded-5 my-auto">
                <div class="container-fluid flex-start">
                  <button
                    type="button"
                    class="btn btn-outline-primary rounded-pill"
                    onclick="location.href='contactList.html'"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-arrow-left"
                      viewBox="0 0 16 16"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"
                      />
                    </svg>
                  </button>
                </div>
                <div class="align-content-center justify-content-center px-5">
                  <!-- Update First Name-->
                  <span class="mb-3 mx-auto p-5">
                    <div class="row">
                      <label
                        for="fname"
                        class="form-label bg-dark text-primary flex-stretch align-text-center"
                        style="white-space: nowrap"
                      >
                        First Name:
                      </label>
                    </div>
                    <div class="row">
                      <div class="col-lg-6">
                        <p
                          class="text-white me-5"
                          style="white-space: nowrap"
                          id="displayFirst"
                        >
                          First name
                        </p>
                      </div>
                      <div class="col-lg-6">
                        <input
                          type="text"
                          class="form-control bg-dark text-primary rounded-pill p-2"
                          id="fname"
                          placeholder="First Name"
                          name="fname"
                        />
                      </div>
                    </div>
                  </span>
                  <!-- Update Last -->
                  <span class="mb-3 mx-auto p-5">
                    <div class="row justify-content-center">
                      <label
                        for="fname"
                        class="form-label bg-dark text-primary flex-stretch align-text-center"
                        style="white-space: nowrap"
                      >
                        Last Name:
                      </label>
                    </div>
                    <div class="row">
                      <div class="col-lg-6">
                        <p
                          class="text-white me-5"
                          style="white-space: nowrap"
                          id="displayLast"
                        >
                          Last name
                        </p>
                      </div>
                      <div class="col">
                        <input
                          type="text"
                          class="form-control bg-dark text-primary rounded-pill p-2"
                          id="lname"
                          placeholder="Last Name"
                          name="lname"
                        />
                      </div>
                    </div>
                  </span>
                  <!-- Update Email Address -->
                  <span class="mb-3 mx-auto p-5">
                    <div class="row">
                      <label
                        for="fname"
                        class="form-label bg-dark text-primary flex-stretch align-text-center"
                        style="white-space: nowrap"
                      >
                        Email Address:
                      </label>
                    </div>
                    <div class="row">
                      <div class="col-lg-6">
                        <p
                          class="text-white me-5"
                          style="white-space: nowrap"
                          id="displayEmail"
                        >
                          email
                        </p>
                      </div>
                      <div class="col-lg-6">
                        <input
                          type="text"
                          class="form-control bg-dark text-primary rounded-pill p-2"
                          id="email"
                          placeholder="Email"
                          name="Email"
                        />
                        <div id="emailError" class="invalid-feedback"></div>
                      </div>
                    </div>
                  </span>
                  <span class="mb-3 mx-auto p-5">
                    <div class="row">
                      <div class="col-lg-6">
                        <label
                          for="phone"
                          class="form-label bg-dark text-primary flex-stretch align-text-center"
                          style="white-space: nowrap"
                        >
                          Phone:
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-6">
                        <p
                          class="text-white"
                          style="white-space: nowrap"
                          id="displayPhone"
                        >
                          000-000-0000
                        </p>
                      </div>
                      <div class="col">
                        <input
                          type="phone"
                          class="form-control bg-dark text-primary rounded-pill p-2"
                          id="phone"
                          placeholder="Phone"
                          name="phone"
                        />
                        <div
                          id="phoneNumberValidation"
                          class="invalid-feedback"
                        ></div>
                      </div>
                    </div>
                  </span>
                </div>

                <div class="d-grid gap-3">
                  <button
                    type="button"
                    id="submit-Button"
                    class="btn btn-outline-primary btn-block rounded-pill m-3 align-self-center"
                    onclick="updateContact()"
                  >
                    Save
                  </button>
                  <button
                    type="button"
                    class="btn btn-outline-primary btn-block rounded-pill m-3 align-self-center"
                    data-bs-toggle="modal"
                    data-bs-target="#deleteModal"
                  >
                    Delete
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="deleteModal">
      <div class="modal-dialog modal-lg rounded-5 m-auto">
        <div class="modal-content text-white bg-dark rounded-5">
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Warning!</h4>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            Are you sure you want to delete this contact?
            <div class="d-grid gap-3">
              <button
                type="button"
                class="btn btn-outline-primary btn-block rounded-pill m-3 align-self-center"
                onclick="deleteContact();location.href='contactList.html'"
              >
                Confirm Delete
              </button>
              <button
                type="button"
                class="btn btn-outline-primary btn-block rounded-pill m-3 mt-2 align-self-center"
                data-bs-toggle="modal"
              >
                Cancel
              </button>
            </div>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>
    <script>
      const phoneNumberInput = document.getElementById("phone");
      const phoneNumberValidation = document.getElementById(
        "phoneNumberValidation"
      );
      const submitButton = document.getElementById("submit-Button");
      phoneNumberInput.addEventListener("blur", function () {
        if (phoneNumberInput.value !== "") {
          if (!/^\d{3}-\d{3}-\d{4}$/.test(phoneNumberInput.value)) {
            phoneNumberInput.classList.add("is-invalid");
            phoneNumberValidation.innerHTML = "Number Format: ###-###-####";
            phoneNumberValidation.style.display = "block";
            submitButton.disabled = true;
          } else {
            phoneNumberInput.classList.remove("is-invalid");
            phoneNumberValidation.innerHTML = "";
            phoneNumberValidation.style.display = "none";
            submitButton.disabled = false;
          }
        } else {
          phoneNumberInput.classList.remove("is-invalid");
          phoneNumberValidation.innerHTML = "";
          phoneNumberValidation.style.display = "none";
          submitButton.disabled = false;
        }
      });

      const emailAddressField = document.getElementById("email");
      const emailAddressError = document.getElementById("emailError");
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      emailAddressField.addEventListener("blur", function () {
        if (emailAddressField.value !== "") {
          if (!emailRegex.test(emailAddressField.value)) {
            emailAddressField.classList.add("is-invalid");
            emailAddressError.innerHTML = "Please enter a valid email.";
            emailAddressError.style.display = "block";
            submitButton.disabled = true;
          } else {
            emailAddressField.classList.remove("is-invalid");
            emailAddressError.innerHTML = "";
            emailAddressError.style.display = "none";
            submitButton.disabled = false;
          }
        } else {
          emailAddressField.classList.remove("is-invalid");
          emailAddressError.innerHTML = "";
          emailAddressError.style.display = "none";
          submitButton.disabled = false;
        }
      });
    </script>
  </body>
</html>
